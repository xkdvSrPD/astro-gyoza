<!-- 防止路由切换时的白屏闪烁 -->
<style>
  html {
    background-color: #ffffff;
    color: #373a3c;
  }
  
  @media (prefers-color-scheme: dark) {
    html {
      background-color: #1c1c1e;
      color: #ffffff;
    }
  }
  
  /* 为已设置暗色主题的用户提供支持 */
  html[data-theme="dark"] {
    background-color: #1c1c1e !important;
    color: #ffffff !important;
  }
  
  html[data-theme="light"] {
    background-color: #ffffff !important;
    color: #373a3c !important;
  }
</style>

<script>
  import { getLocalTheme, getSystemTheme, changePageTheme } from '@/utils/theme'
  
  function load() {
    const localTheme = getLocalTheme()
    const systemTheme = getSystemTheme()
    if (localTheme === 'system') {
      changePageTheme(systemTheme)
    } else {
      changePageTheme(localTheme)
    }
  }

  // 立即执行主题加载
  load()
</script>
